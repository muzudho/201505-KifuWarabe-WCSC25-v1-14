# Kifuwarabe_WCSC25

2020年11月の 電竜戦から きふわらずさ(Kifuwarazusa)にリネームして開発再開だぜ☆（＾～＾）  

|                         | ファイル                                                                                   |
| ----------------------- | ------------------------------------------------------------------------------------------ |
| ソース                  | `Kifuwarabe_WCSC25/Sources/By_Circle_Grayscale/P400_KifuNarabeVs/KifuwarazusaGuiVs.sln`    |
| 将棋エンジン ソース     | P050_KifuWarabe                                                                            |
| 将棋GUI ソース          | P400_KifuNaraVs                                                                            |
| 将棋エンジン ランタイム | `Kifuwarabe_WCSC25/Builds/Engine/Bin/P050_KifuWarabe/Grayscale.P050_KifuWarabe.exe`        |
| 設定ファイル1           | `Kifuwarabe_WCSC25/Builds/Engine/Bin/P050_KifuWarabe/Grayscale.P050_KifuWarabe.exe.config` |
| 設定ファイル2           | `Kifuwarabe_DenouT2/Profile/Engine.toml`                                                   |

設定ファイル1 の `Grayscale.P050_KifuWarabe.exe.config` の中にある `Profile` のパスを、 設定ファイル2 の親ディレクトリー `Profile` に合わせてください。  

## Manual

復刻版。  
DEBUGモードで実行すると 2GB ぐらいのログファイルをポンポン作成して危険なので Releaseモードで実行してください。  

readme（Vector用）.txt:  

```plain
[製　品　名]　　将棋エンジン　きふわらべ　／　将棋ＧＵＩ　きふならべ
　　　　　　　　第２５回世界コンピュータ将棋選手権　出場バージョン
[バージョン]　　Ver 1.14
[作　成　日]　　2015/05/07
[著　作　者]　　TAKAHASHI Satoshi
　　　　　　　　　　（H.N.むずでょ）
[ホームページ]　
　　　　　　　　旧　：　http://xenon.wiki.fc2.com/
　　　　　　　　新　：　http://grayscale.iza-yoi.net/
[必要なもの]    .NET Framework 4.5 以降
        http://www.microsoft.com/ja-jp/download/details.aspx?id=17851
[動作　環境]    Windows7 で確認。
--------------------------------------------------------------------------------



    ※注意１：  DEBUGモードで実行すると、ログが大量に吐かれます。
                配布版は、最初は RELEASEモードに設定してあります。

    ※注意２：  きふわらべは、
                    Grayscale       ※わたし　ライセンス同梱
                    ProjectDark     ※借り物　ライセンス同梱
                    NeueCC          ※借り物　ライセンス同梱
                    NLua            ※借り物　ライセンス同梱
                の４つの著作者のプログラムで構成しています。
                フォルダーで分けています。
                それぞれのライセンスの違いに注意してください。



ソフトの概要
============

    将棋エンジンと、ＧＵＩです。
    現在も開発中のものを毎月、定期的に公開しているものです。（２０１５年０５月）



起動方法
========

    →　きふわらべＧＵＩから起動したい場合。
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

        きふわらべ/Root_KifuWarabe/Builds/Engine/Bin/P400_KifuNarabeVs/Grayscale.P400_KifuNaraVs.exe

        が、きふわらべＧＵＩです。
        アイコンをダブルクリックしてください。
        Buildsフォルダー以下の階層を崩さないようにしてください。


    →　将棋エンジンだけ欲しい場合。
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

        きふわらべ/Root_KifuWarabe/Builds/Engine/Bin/P050_KifuWarabe/Grayscale.P050_KifuWarabe.exe
        
        が、将棋エンジンです。
        Engineフォルダー以下の階層を崩さないように、丸ごとコピーしてください。


    →　きふわらべを改造したい場合。
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

        きふわらべ/Root_KifuWarabe/Sources/By_Circle_Grayscale/P400_KifuNarabeVs/KifuNarabeVs.sln

        を、例えば
        Micorosoft Visual Studio Express 2012 for Windows Desktop C#
        等を使って開いてください。



きふわらべＧＵＩの使い方
========================

    棋譜
    ====

        画面上段の [入力] 欄に、棋譜を入れてください。

        棋譜は、次のようなテキストです。
            ・「▲７六歩△３四歩▲２六歩」…
            ・「position startpos moves 7g7f 3c3d 2g2f」…
            ・「position startpos moves ▲７六歩 3c3d ▲２六歩 8c8d」…
            ・「position lnsgkgsnl/1r5b1/p1pppp1pp/1p4p2/9/2P4P1/PP1PPPP1P/1B5R1/LNSGKGSNL b - 1 moves」
              のような書き方も使えます。（初期配置は p1pp…のみです。歩1ppとかできません）

        その右横の [コマ送り] ボタンを
        押してください。


    将棋エンジンと対局
    ==================

        ・[将棋エンジン起動]ボタンを押してください。
          VS_きふわらべ/Engine/Data/data_settei.xml に書かれてある、
          最初に書かれてある ＜shogiEngin＞ を起動させます。

          USIプロトコル対応の将棋エンジンを指定してください。

          コンピューターが後手です。


    [既知の不具合]

        ・たくさんあるかも。



作者への連絡先
==============

    muzudho1@gmail.com (変更しました 2014-02-21)

    グーグルドキュメント　ツリーエディター要望／不具合表（一般公開）
    https://docs.google.com/spreadsheet/ccc?key=0AkvZtqfBiwxfdEZIUHBFLXpEZE1sX2trQ2Vnd2FJb0E&usp=sharing
    元々は他のアプリ用ですが、ここで全てのアプリを承っています。


取り扱い種別
============

    フリーソフト
    二条項ＢＳＤライセンス

            『将棋エンジン  きふわらべ』『将棋ＧＵＩ  きふならべ』は、
            二条項ＢＳＤライセンスで配布します。
            ~~~~~~~~~~~~~~~~~~~~~~

            意訳しますと、ＢＳＤライセンスが言っているのは次の２つのことです。

                ・著作者は、どんな損害も  保障してくれません。（無保障）
                ・著作者は、どんな責任も  負ってくれません。  （免責）

            二条項とは、何が２つなのかと言いますと、
            配る人と  もらう人の間に、約束が次の２つあるということです。

                （１つ目）変更の有無を問わず、ソースコードの配布・利用を許可するときの条件

                            ①著作権表示
                            ②二条項（*1）
                            ③無保証、免責の条項（*1）
                            
                            の３つを保持すること。

                （２つ目）変更の有無を問わず、バイナリー形式のファイルの配布・利用を許可するときの条件

                            「①著作権表示
                              ②二条項（*1）
                              ③無保証、免責の条項（*1）」
                            は、ドキュメント、または他の資料で配布すること。

                *1 …… 原文の二条項ＢＳＤライセンスをテキストファイルを
                        添付しているので、
                        再配布するときは、これを忘れず一緒に配布してください。



動作環境
========

    Windows7 で動作確認済み。


インストール・アンインストール方法
==================================

    [インストール方法]

        圧縮ファイルを解凍するだけ。

    [アンインストール方法]

        フォルダー丸ごと削除するだけ。


使用しているライブラリ
======================

    製作元『ぐれーすけーる』のもの
        Grayscale.P006_Sfen.dll             SFENです。

        Grayscale.P006_Syugoron.dll         集合論ルールです。

        Grayscale.P030_KifuReport.exe       SFENログです。

        Grayscale.P012_KnowledgeShogi.dll   将棋ルールです。

        Grayscale.P025_KifuLarabe.dll       きふわらべの共通部分です。

        Grayscale.P045_KifuTensu.dll        評価値を付けます。

        Grayscale.P046_KifuYomi.dll         棋譜ツリーを作ります。

        Grayscale.P040_Kokoro.dll           指したい手を思い浮かべます。

        Grayscale.P050_KifuWarabe.exe       USIプロトコル対応の将棋エンジンです。

        Grayscale.P100_ShogiServer.dll      将棋サーバーに見立てた部品です。
        
        Grayscale.P200_KifuNarabe.dll       将棋ＧＵＩのベース部分です。

        Grayscale.P400_KifuNaraVs.exe       コンピューター対戦付き将棋ＧＵＩです。

    製作元『ProjectDark』さん
        ProjectDark.KWSupport.dll       きふわらべは、サークルProjectDarkさんが作成したライブラリを利用しています。

    製作元『NeueCC』さん
        DynamicJson.dll                 きふわらべは、NeueCC さんが作成したライブラリを利用しています。


使用している素材
================

    M+Fonts                         きふわらべは、M+Fontsさんのフォントを使っています。
                                    http://mplus-fonts.sourceforge.jp/


--------------------------------------------------------------------------------
更新履歴
--------------------------------------------------------------------------------

Ver1.14.0 (2015-05-07)
        ・第２５回世界コンピュータ将棋選手権　出場バージョンの きふわらべ を、
          特に整理整頓することもなく  そのまま丸投げ公開。


Ver1.13.0 (2015-03-08)
        ・２０１５年２月開発版

        ・ボタンの配置などを、CSV形式の外部ファイルに出しました。


Ver1.12.0 (2015-01-18)
        ・２０１４年１２月～２０１５年１月開発版

        ・棋譜データをSFEN形式で持つ改造を進めている。まだ途中。


Ver1.11.0

        ・２０１４年１１月中、開発版。
          サークル ProjectDark さんの NamedInt ライブラリーを利用。

        ・きふわらべには、持ち駒を認識していないという不具合があります。

        ・王手回避漏れ対策済み
        ・飛車、角、香が駒を飛び越す不具合を修正済み

Ver1.10.0

        ・第２回電王トーナメント出場バージョン

Ver1.09.0 (2014-10-01)

        ・リーガルムーブの実装のなかばです。


Ver1.08.0 (2014-08-31)

    [修正した不具合]

        ・相手の陣地から出たときに、成れなかった不具合を修正しました。
        ・王や金が相手陣地に入ったときに、成る／成らない　ダイアログボックスが
          出ていた不具合を修正しました。
        ・駒台の上の駒を　取ってしまう　不具合を修正しました。
        ・２つあった出力欄を１つにし、[出力切替]ボタンを付けました。
        ・「コンピューター最善手ボタン」「HTMLボタン」は削除しました。


Ver1.07.0 (2014-08-10)

    将棋エンジンとやり取りができるように、ソースコードの改造を進めています。

    [既知の不具合]

          「将棋エンジン起動ボタン」、「コンピューター最善手ボタン」ともに
          作りかけです。


        ・[将棋エンジン起動]ボタンは、
          Xenon.KifuNarabe.exe と同じフォルダーにある shogiEngine.exe が起動します。
          コンピューターが後手です。

          通信タイミングがあっておらず、
          ２手目から  すぐに  挙動、棋譜がおかしくなります。
          今後、変更予定です。


        ・[コンピューターの最善手]ボタンは、駒が１つ上に移動するだけです。
          今後、変更予定です。


Ver1.06.0 (2014-08-01)

    （１）  [戻る]ボタンを付けました。
    （２）  出力欄の上段では「▲同飛（歩取り）」のように、取った駒も
            出力されるようになりました。
            このまま入力欄に入れることができます。丸括弧は無視されます。

    [既知の不具合]
        現在、王・玉　の区別なく、「王」のみになっています。

        「寄」「引」「上」「左」「右」「直」「成」「不成」「打」
        の対応は終えていますが、間違っているところもあるかもしれません。

        HTMLボタンは作者用です。

        出力欄の２つ目は、SFEN形式を出していますが、
        合っているのか間違っているのか分かりません。



Ver1.05.0 (2014-07-27)

    SFEN形式への対応を進めました。

    [ここから採譜]ボタンを押すと、押した局面を初期盤面とする棋譜を出力します。

    入力欄は１つにしました。
    「▲７六歩」と「position startpos moves 」のどちらにも使えます。

    [既知の不具合]
        現在、王・玉　の区別なく、「王」のみになっています。

        「寄」「引」「上」「左」「右」「直」「成」「不成」「打」
        の対応は終えていますが、間違っているところもあるかもしれません。

        HTMLボタンは作者用です。

        出力欄の２つ目は、SFEN形式を出していますが、
        合っているのか間違っているのか分かりません。

Ver1.04.0 (2014-07-25)

    符号の「同」「打」への対応を終えました。

    [既知の不具合]
        現在、王・玉　の区別なく、「王」のみになっています。

        「寄」「引」「上」「左」「右」「直」「成」「不成」「打」
        の対応は終えていますが、間違っているところもあるかもしれません。

        HTMLボタンは作者用です。

        入力欄の２つ目は開発中です。
        出力欄の２つ目は、SFEN形式を出していますが、間違っているかもしれません。

Ver1.03.0 (2014-07-22)

    [既知の不具合]
        現在、王・玉　の区別なく、「王」のみになっています。

        「寄」「引」「上」「左」「右」「直」「成」「不成」「打」
        への対応を　更に　進めましたが、間違っているところもあるかもしれません。
                    ~~~~
        HTMLボタンは作者用です。

        出力欄が２つに増えていますが、下のは作りかけです。


Ver1.02.0 (2014-06-22)

    棋譜符号入力ボタンを付けました。

    [既知の不具合]
        現在、王・玉　の区別なく、「王」のみになっています。
        
        「寄」「引」「上」「左」「右」「直」「成」「不成」「打」
        への対応を進めましたが、間違っているところもあるかもしれません。


Ver1.01.0 (2014-06-22)

    棋譜の符号の読込み、表示。
    [既知の不具合]
        金直や、銀右など、「寄」「金」「銀」「直」には未対応です。


Ver1.00.0 (2014-06-18)

    公開


以上
```
